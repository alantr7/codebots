
define_func main
begin
  define_var message
  set message "Hello world!"
  define_var array
  push_stack
  push_func array 1
  push_stack
  push_func length 1
  push_stack
  set $cs #this_module
  push *message
  eval $exp1 pop
  pop_stack
  set_arg 0 $exp1
  call
  push $rv
  pop_func
  eval $exp1 pop
  pop_stack
  set_arg 0 $exp1
  call
  push $rv
  pop_func
  eval array pop
  pop_stack
  begin loop_entry_1
  define_var i
  set i 0
  begin loop_1
  push_stack
  set $cs #this_module
  push *i
  push_func length 1
  push_stack
  set $cs #this_module
  push *message
  eval $exp1 pop
  pop_stack
  set_arg 0 $exp1
  call
  push $rv
  pop_func
  eval $exp1 pop pop <
  pop_stack
  if $exp1 false
  begin
  exit loop_entry_1
  end

  set $cs #this_module
  push_stack
  set $cs #this_module

  set $cs #this_module
  set $exp1 *message
  push_stack
  set $cs #this_module
  push *i
  eval $exp2 pop
  pop_stack
  array_get $exp1 $exp2 $exp1
  push $exp1

  eval $exp3 pop
  pop_stack
  set $exp1 *array
  push_stack
  set $cs #this_module
  push *i
  eval $exp2 pop
  pop_stack
  array_set $exp1 $exp2 $exp3


  set $cs #this_module
  push_stack
  set $cs #this_module
  push *i
  eval $exp3 pop 1 +
  pop_stack
  set i $exp3

  goto loop_1
  end
  end
  push_func print 1
  push_stack
  set $cs #this_module
  push *array
  eval $exp1 pop
  pop_stack
  set_arg 0 $exp1
  call
  pop_func
end
